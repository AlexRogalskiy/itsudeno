name: Itsudeno
version: 0.1.0
description: Scriptable IT automation system.
author: lowlighter (Simon Lecoq)
repository: https://github.com/lowlighter/itsudeno
license:
  name: GNU General Public License v3.0
  link: https://github.com/lowlighter/itsudeno/blob/main/LICENSE

imap: imports.json
unstable: true
lock: lock.json
noCheck: true # to remove
scripts:
  cli:
    lock: ~
    desc:
    allow:
      - read
      - write
    cmd: deno run interfaces/cli/mod.ts
  build:
    lock: ~
    desc: Build app
    allow:
      - read
      - write
    cmd:
      - deno run core/internal/builder/definition.ts
      - deno run core/internal/builder/documentation.ts
  bundle:
    desc: Bundle app
    cmd: deno bundle mod.ts
  test:
    noCheck: true
    lock: ~
    desc: Run tests
    allow:
      - read
      - net
      - write
      - run
    cmd:
      - deno test --coverage=.coverage
      # - deno coverage .coverage
  lint:
    desc: Lint code
    cmd: deno lint
  fmt:
    desc: Format code
    cmd: dprint fmt --config .github/config/dprint.json
  lock:
    lock: ~
    desc: Update lock file
    cmd: deno cache --lock=lock.json --lock-write mod.ts
  serve-docs:
    desc: Serve documentation
    allow:
      - read
      - net
    cmd:
      - deno run https://deno.land/std/http/file_server.ts docs --port 4649 --no-dotfiles